<div mat-dialog-title class="card-header">
    <div class="d-flex align-items-center justify-content-between w-100">
        <h6 class="text-main mb-0 fw-bold">{{ data ? 'Update CCTV Location':'Labels.Addcctvrlocation'| translate }}</h6>
        <button mat-icon-button mat-dialog-close class="btn-modal-close">
            <mat-icon>close</mat-icon>
        </button>
    </div>
</div>
<form [formGroup]="cctvLocationForm" (ngSubmit)="onSubmit()">
<mat-dialog-content class="card-body card-height-sm scrollbar">
    <div class="row gx-2 gy-0">
        <!-- <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.district'| translate}}</mat-label>
                <mat-select formControlName="districtId" (selectionChange)="getTaluka()" >
                    <mat-option *ngFor="let dist of $districts | async" [value]="dist.id">{{languageFlag =='English' ?
                        dist.district : dist.m_District}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div> -->
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.taluka'| translate}}</mat-label>
                <mat-select formControlName="talukaId" (selectionChange)="getAllCenter();clearDependency('taluka')">
                    <mat-option *ngFor="let tal of talukaArr" [value]="tal.id">{{languageFlag == 'English' ?
                        tal.taluka:tal.m_Taluka }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>Center</mat-label>
                <mat-select formControlName="centerId"  (selectionChange)="getVillage();clearDependency('centerId')">
                    <mat-option *ngFor="let cen of centerArr" [value]="cen.id">{{languageFlag == 'English'
                        ?cen.center:cen.m_Center}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.village'| translate}}</mat-label>
                <mat-select formControlName="villageId" (selectionChange)="getAllSchoolsByCenterId();clearDependency('villageId')">
                    <mat-option *ngFor="let village of villageArr" [value]="village.id">{{languageFlag ==
                        'English'
                        ?village.village:village.m_Village}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.school'| translate}}</mat-label>
                <mat-select  formControlName="schoolId">
                    <mat-option *ngFor="let sch of schoolArr" [value]="sch.id">{{languageFlag == 'English' ?
                        sch.schoolName:sch.m_SchoolName}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.CCTVLocation'| translate}}</mat-label>
                <mat-select formControlName="cctvLocationId">
                    <mat-option  *ngFor="let cctvLoc of CCTVLocation" [value]="cctvLoc.id">{{languageFlag == 'English' ?
                        cctvLoc.cctvLocation:cctvLoc.m_CCTVLocation}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.CCTVName'| translate}}</mat-label>               
                    <input matInput formControlName="cctvName" (keypress)="validators.noFirstSpaceAllow($event);validators.alphaNumericWithSpaces($event)" maxlength="100">               
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.CCTVModel'| translate}}</mat-label>               
                    <input matInput formControlName="cctvModel" (keypress)="validators.noFirstSpaceAllow($event);validators.alphaNumericWithSpaces($event)" maxlength="100">            
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.CloudID'| translate}}</mat-label>                
                    <input matInput formControlName="cloudId" (keypress)="validators.noFirstSpaceAllow($event);validators.onlyDigits($event)" maxlength="100">                
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>{{'Labels.RegistrationDate'| translate}}</mat-label>
                <input matInput [matDatepicker]="picker"  formControlName="registrationDate" (click)="picker.open()">
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </div>
        <div class="col-sm-12">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label> {{'Labels.Description'| translate}}</mat-label>
                <textarea matInput formControlName="remark" (keypress)="validators.noFirstSpaceAllow($event)" maxlength="500"></textarea>
            </mat-form-field>
        </div>
    </div>
</mat-dialog-content>
<mat-dialog-actions align="end" class="card-footer">
    <div class="d-flex w-100 align-items-center justify-content-end">
        <button mat-flat-button mat-dialog-close class="btn-second me-2" type="button">{{'Labels.cancel' |
            translate}}</button>
        <button mat-flat-button class="btn-main" type="submit">{{data ?( 'Labels.update' | translate)
            :('Labels.submit' |
            translate)}}</button>
    </div>
</mat-dialog-actions>
</form>